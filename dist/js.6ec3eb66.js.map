{"version":3,"sources":["js/DOM.js","js/search.js","js/todolist.js","js/index.js"],"names":["DOMSelectors","grid","document","querySelector","searchForm","getElementById","searchArea","btnPrev","btnNext","addAnime","pageNumber","listen","addEventListener","e","searchQuery","preventDefault","searchParams","value","innerHTML","query","response","fetch","json","results","forEach","anime","insertAdjacentHTML","image_url","title","score","rated","synopsis","url","error","console","log","todoItems","renderTodo","todo","localStorage","setItem","JSON","stringify","list","item","id","deleted","remove","length","isChecked","checked","node","createElement","setAttribute","text","replaceChild","append","addTodo","Date","now","push","toggleDone","key","index","findIndex","Number","deleteTodo","filter","form","event","input","trim","focus","target","classList","contains","parentElement","dataset","ref","getItem","parse","t","nextPage","init","previousPage"],"mappings":"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","file":"js.6ec3eb66.js","sourceRoot":"..\\src","sourcesContent":["const DOMSelectors = {\r\n    grid: document.querySelector(\".anime-grid\"),\r\n    searchForm: document.getElementById(\"search-form\"),\r\n    searchArea: document.getElementById(\"search-area\"),\r\n    btnPrev: document.querySelector(\".btn-prev\"),\r\n    btnNext: document.querySelector(\".btn-next\"), \r\n    addAnime: document.querySelector(\".user-score\"),\r\n}\r\n\r\nexport {DOMSelectors};","import {DOMSelectors} from \"./DOM\";\r\n\r\nlet pageNumber = 1;\r\n//function for changed page?\r\n\r\nconst listen = async function () {\r\n  DOMSelectors.searchForm.addEventListener(\"submit\", function (e) {\r\n    const nextPage = function () {\r\n      //next.addeventlistener\r\n      DOMSelectors.btnNext.addEventListener(\"click\", function () {\r\n        //update page variable\r\n        pageNumber++;\r\n        //re-run query()\r\n        searchQuery(pageNumber);\r\n      });\r\n    };\r\n    const previousPage = function () {\r\n      //next.addeventlistener\r\n      DOMSelectors.btnPrev.addEventListener(\"click\", function () {\r\n        //update page variable\r\n        pageNumber--;\r\n        //re-run query()\r\n        searchQuery(pageNumber);\r\n      });\r\n    };\r\n    previousPage();\r\n    nextPage();\r\n    e.preventDefault();\r\n\r\n    const searchParams = DOMSelectors.searchArea.value;\r\n    const searchQuery = async function (pageNumber) {\r\n      \r\n      DOMSelectors.grid.innerHTML = \"\";\r\n      let query =  `https://api.jikan.moe/v3/search/anime?q=${searchParams}&page=${pageNumber}&order_by=score&limit=48`;\r\n      if (searchParams === \"\") {\r\n        query = `https://api.jikan.moe/v3/search/anime?q=&page=1&sort=desc&order_by=scores&limit=12`;\r\n      }\r\n      try {\r\n        const response = await fetch(query);\r\n        const data = await response.json();\r\n\r\n        data.results.forEach((anime) => {\r\n            DOMSelectors.grid.insertAdjacentHTML(\r\n                \"beforeend\",\r\n                `<div class=\"anime-card\">\r\n                <div class=\"anime-card-front\">\r\n                  <img\r\n                    src=\"${anime.image_url}\"\r\n                    alt=\"\"\r\n                    class=\"poster\"\r\n                  />\r\n                </div>\r\n                <div class=\"anime-card-back\">\r\n                  <h3 class=\"anime-card-header\">${anime.title}</h3>\r\n                  <div class=\"score-box\">\r\n                    <p class=\"user-score\">Community Score</p>\r\n                    <p class=\"user-score\">${anime.score}</p>\r\n                  </div>\r\n        \r\n                  <div class=\"release-box\">\r\n                    <p class=\"release-date\">Released</p>\r\n                    <p class=\"rating\">${anime.rated} </p>\r\n                    <p class=\"synopsis\">${anime.synopsis}</p>\r\n                    <a  class=\"user-score\" href=\"${anime.url}\" target=\"_blank\">Add to List/a>\r\n                  </div>`\r\n\r\n            );\r\n        });    \r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n};\r\nsearchQuery(pageNumber); \r\n    });\r\n};\r\n\r\nlisten(); \r\n\r\nexport {listen};","let todoItems = [];\r\n\r\nfunction renderTodo(todo) {\r\n  localStorage.setItem('todoItems', JSON.stringify(todoItems));\r\n\r\n  const list = document.querySelector('.js-todo-list');\r\n  const item = document.querySelector(`[data-key='${todo.id}']`);\r\n  \r\n  if (todo.deleted) {\r\n    item.remove();\r\n    if (todoItems.length === 0) list.innerHTML = '';\r\n    return\r\n  }\r\n\r\n  const isChecked = todo.checked ? 'done': '';\r\n  const node = document.createElement(\"li\");\r\n  node.setAttribute('class', `todo-item ${isChecked}`);\r\n  node.setAttribute('data-key', todo.id);\r\n  node.innerHTML = `\r\n    <input id=\"${todo.id}\" type=\"checkbox\"/>\r\n    <label for=\"${todo.id}\" class=\"tick js-tick\"></label>\r\n    <span>${todo.text}</span>\r\n    <button class=\"delete-todo js-delete-todo\">\r\n    <svg><use href=\"#delete-icon\"></use></svg>\r\n    </button>\r\n  `;\r\n\r\n  if (item) {\r\n    list.replaceChild(node, item);\r\n  } else {\r\n    list.append(node);\r\n  }\r\n}\r\n\r\nfunction addTodo(text) {\r\n  const todo = {\r\n    text,\r\n    checked: false,\r\n    id: Date.now(),\r\n  };\r\n\r\n  todoItems.push(todo);\r\n  renderTodo(todo);\r\n}\r\n\r\nfunction toggleDone(key) {\r\n  const index = todoItems.findIndex(item => item.id === Number(key));\r\n  todoItems[index].checked = !todoItems[index].checked;\r\n  renderTodo(todoItems[index]);\r\n}\r\n\r\nfunction deleteTodo(key) {\r\n  const index = todoItems.findIndex(item => item.id === Number(key));\r\n  const todo = {\r\n    deleted: true,\r\n    ...todoItems[index]\r\n  };\r\n  todoItems = todoItems.filter(item => item.id !== Number(key));\r\n  renderTodo(todo);\r\n}\r\n\r\nconst form = document.querySelector('.js-form');\r\nform.addEventListener('submit', event => {\r\n  event.preventDefault();\r\n  const input = document.querySelector('.js-todo-input');\r\n\r\n  const text = input.value.trim();\r\n  if (text !== '') {\r\n    addTodo(text);\r\n    input.value = '';\r\n    input.focus();\r\n  }\r\n});\r\n\r\nconst list = document.querySelector('.js-todo-list');\r\nlist.addEventListener('click', event => {\r\n  if (event.target.classList.contains('js-tick')) {\r\n    const itemKey = event.target.parentElement.dataset.key;\r\n    toggleDone(itemKey);\r\n  }\r\n  \r\n  if (event.target.classList.contains('js-delete-todo')) {\r\n    const itemKey = event.target.parentElement.dataset.key;\r\n    deleteTodo(itemKey);\r\n  }\r\n});\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  const ref = localStorage.getItem('todoItems');\r\n  if (ref) {\r\n    todoItems = JSON.parse(ref);\r\n    todoItems.forEach(t => {\r\n      renderTodo(t);\r\n    });\r\n  }\r\n});\r\n\r\nexport {renderTodo};","import {DOMSelectors} from \"./DOM\";\r\nimport {listen} from \"./search\";\r\nimport{renderTodo} from \"./todolist\";\r\nimport {addAnime} from \"./addList\";\r\n\r\nlet pageNumber = 1;\r\n//function for changed page?\r\nconst nextPage = function () {\r\n  //next.addeventlistener\r\n  DOMSelectors.btnNext.addEventListener(\"click\", function () {\r\n    //update page variable\r\n    pageNumber++;\r\n    //re-run query()\r\n    init(pageNumber);\r\n  });\r\n};\r\nconst previousPage = function () {\r\n  //next.addeventlistener\r\n  DOMSelectors.btnPrev.addEventListener(\"click\", function () {\r\n    //update page variable\r\n    pageNumber--;\r\n    //re-run query()\r\n    init(pageNumber);\r\n  });\r\n};\r\npreviousPage();\r\nnextPage();\r\n\r\nconst init = async function (pageNumber){\r\n  const DOMSelectors = {\r\n    grid: document.querySelector(\".anime-grid\"),\r\n  }\r\nconst query = `https://api.jikan.moe/v3/search/anime?q=&page=${pageNumber}&sort=desc&order_by=score&limit=12`;\r\n    try {\r\n        const response = await fetch(query);\r\n        const data = await response.json()\r\n        data.results.forEach((anime) => {\r\n            DOMSelectors.grid.insertAdjacentHTML(\r\n                \"beforeend\",\r\n                `<div class=\"anime-card\">\r\n                <div class=\"anime-card-front\">\r\n                  <img\r\n                    src=\"${anime.image_url}\"\r\n                    alt=\"\"\r\n                    class=\"poster\"\r\n                  />\r\n                </div>\r\n                <div class=\"anime-card-back\">\r\n                  <h3 class=\"anime-card-header\">${anime.title}</h3>\r\n                  <div class=\"score-box\">\r\n                    <p class=\"user-score\">Community Score</p>\r\n                    <p class=\"user-score\">${anime.score}</p>\r\n                </div>\r\n                            \r\n                  <div class=\"release-box\">\r\n                    <p class=\"release-date\">Released</p>\r\n                    <p class=\"rating\">${anime.rated} </p>\r\n                    <p class=\"synopsis\">${anime.synopsis}</p>\r\n                    <a  class=\"user-score add-cart\" href=\"#\"> Want to Watch </a>\r\n                  </div>`\r\n            );\r\n        });    \r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n};\r\n\r\ninit(pageNumber);\r\n"]}